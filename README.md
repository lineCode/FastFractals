# Fast Fractals
A GPU-accelerated fractal generator and renderer.
Fractals are generated by CUDA kernels, rendered through OpenGL, and presented in a Qt5 GUI application.
Comments and constructive criticism are welcome.

![Fast Fractals](doc/fastfractals.gif)

Technology used: *CUDA, the cuRAND library, C++ (Qt Style), the Qt framework, OpenGL, MVC design pattern*

## Features

- Generate fractal structures containing millions of points within milliseconds
- Up to a 500x performance increase over single threaded generation
- Fractal points color-coded by their target IFS mapping
- See how kernel timing is affected by GPU thread count and the number of points generated
- 15 example fractals to experiment with (see [usage](#usage-and-explanation) to construct more)

## Building
### Dependencies

- A CUDA-enabled Nvidia graphics card with Compute Capability 6.0 or higher (GeForce GTX 10 series or higher)
- Updated Nvidia drivers with OpenGL support
- Standard C++ compilation tools (*gcc, make*)
- An updated CUDA runtime library and CUDA toolkit (*nvcc*)
- The Qt5 toolkit and development tools (*qmake*)

### Linux

See your distribution's package manager for best practices on installing the dependencies.
For example, on Arch-based distributions run:
```sh
$ pacman -S nvidia base-devel cuda qt5-base
```
You may need to reboot to ensure the CUDA toolkit has updated your system path.

Then clone the repository and enter the `FastFractals` directory:
```sh
$ git clone https://github.com/Mattonaise/FastFractals.git
$ cd FastFractals
```

If your CUDA toolkit is installed elsewhere than `/opt/cuda`, you will need to change the CUDA install directory in the [`FastFractals.pro`](FastFractals.pro) file (see line 49).
Ubuntu-based distributions among others install the toolkit into `/usr/local/cuda-##.#` with `##.#` being the CUDA runtime major and minor version number.
For example:
```qmake
# CUDA install directory
CUDA_DIR = /usr/local/cuda-10.2
```

Then build the program and run:
```sh
$ qmake && make
$ ./FastFractals
```

### Windows

> Windows support is not yet complete

## Usage and Explanation

## Performance Analysis

## Acknowledgments

Various articles and resources I found both useful and prescriptive during development:

- [Nvidia Developer Blog: Introduction to CUDA](https://devblogs.nvidia.com/even-easier-introduction-cuda/) - Collection of follow up articles covering various CUDA topics
- [Clean Qt](https://www.cleanqt.io/home) - Thorough crash course in Qt for C++ developers
- [Qt Weekly: Qt and CUDA](https://www.qt.io/blog/2015/03/03/qt-weekly-28-qt-and-cuda-on-the-jetson-tk1) - Integration of nvcc and CUDA runtime into Qt build system
- [Trent Reed: Qt5 OpenGL](https://www.trentreed.net/topics/opengl/) - Good overview of OpenGL implementation within Qt5
- [LearnOpenGL.com](https://learnopengl.com/) - Thorough OpenGL tutorial and reference
- [Lol Engine Blog](http://lolengine.net/blog/2013/07/27/rgb-to-hsv-in-glsl) - Fast branchless HSV to RGB conversion in GLSL
- [Larry Riddle: Iterated Function Systems](http://larryriddle.agnesscott.org/ifs/ifs.htm) - Examples and descriptions of numerous iterated function systems and their associated fractals

## To-Do

- [ ] Replace compiler macros
- [ ] Change C-style struct to a C++-style
- [ ] Prettier shaders
- [ ] Safer file reading and error handling
- [ ] Viewspace manipulation + zoom
- [ ] Options to manipulate fractals (through UI or mouse input on QOpenGLWidget)
- [ ] Vertex exclusion rules (could reduce performance significantly)
- [ ] Asynchronous kernel execution (may require significant refactoring)
- [ ] Unit testing (for specific functions and types if feasible)
